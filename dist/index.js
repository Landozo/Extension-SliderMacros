(()=>{"use strict";var e={208:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(601),r=n.n(o),i=n(314),s=n.n(i)()(r());s.push([e.id,"/* ============================================\n   SLIDER MACROS - SETTINGS PANEL STYLES\n   ============================================ */\n\n/* --- Toolbar --- */\n.slider_macros_toolbar {\n    margin-bottom: 12px;\n}\n\n.slider_macros_toolbar_row {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n}\n\n.slider_macros_toolbar_row > select {\n    flex: 1;\n    min-width: 0;\n}\n\n.slider_macros_toolbar_actions {\n    display: flex;\n    align-items: center;\n    gap: 4px;\n}\n\n.slider_macros_toolbar_divider {\n    width: 1px;\n    height: 20px;\n    background: var(--SmartThemeBorderColor, #444);\n    margin: 0 4px;\n}\n\n/* --- Create Button --- */\n.slider_macros_create_row {\n    margin-bottom: 16px;\n}\n\n.slider_macros_btn_create {\n    width: 100%;\n    justify-content: center;\n    padding: 10px 16px;\n    border: 2px dashed var(--SmartThemeBorderColor, #555);\n    background: transparent;\n    transition: all 0.2s ease;\n}\n\n.slider_macros_btn_create:hover {\n    border-color: var(--SmartThemeQuoteColor, #888);\n    background: var(--SmartThemeBlurTintColor, rgba(255,255,255,0.03));\n}\n\n/* --- Slider List --- */\n.slider_macros_list {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n}\n\n.slider_macros_list .empty-message {\n    text-align: center;\n    opacity: 0.6;\n    font-size: 0.9em;\n    padding: 24px 16px;\n    border: 1px dashed var(--SmartThemeBorderColor, #444);\n    border-radius: 8px;\n}\n\n/* --- Slider Card --- */\n.slider_macros_card {\n    background: var(--SmartThemeBlurTintColor, rgba(0,0,0,0.2));\n    border: 1px solid var(--SmartThemeBorderColor, #444);\n    border-radius: 8px;\n    overflow: hidden;\n    transition: border-color 0.2s ease, box-shadow 0.2s ease;\n}\n\n.slider_macros_card:hover {\n    border-color: var(--SmartThemeQuoteColor, #666);\n}\n\n/* Card Header */\n.slider_macros_card_header {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 10px 12px;\n    background: var(--SmartThemeBlurTintColor, rgba(0,0,0,0.15));\n    border-bottom: 1px solid var(--SmartThemeBorderColor, #333);\n}\n\n.slider_macros_card_title {\n    display: flex;\n    align-items: baseline;\n    gap: 8px;\n    min-width: 0;\n    flex: 1;\n}\n\n.slider_macros_card_name {\n    font-weight: 600;\n    font-size: 1em;\n    color: var(--SmartThemeBodyColor, #eee);\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n\n.slider_macros_card_macro {\n    font-size: 0.8em;\n    color: var(--SmartThemeQuoteColor, #888);\n    font-family: monospace;\n    opacity: 0.8;\n}\n\n.slider_macros_card_macro:not(:empty)::before {\n    content: '{{';\n}\n\n.slider_macros_card_macro:not(:empty)::after {\n    content: '}}';\n}\n\n.slider_macros_card_controls {\n    flex-shrink: 0;\n}\n\n.slider_macros_toggle {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    cursor: pointer;\n}\n\n.slider_macros_toggle_label {\n    font-size: 0.85em;\n    opacity: 0.8;\n}\n\n/* Card Body */\n.slider_macros_card_body {\n    padding: 12px;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n}\n\n.slider_macros_field_group {\n    display: flex;\n    gap: 10px;\n}\n\n.slider_macros_field_group > .slider_macros_field {\n    flex: 1;\n}\n\n.slider_macros_field {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n}\n\n.slider_macros_field_row {\n    display: flex;\n    gap: 10px;\n}\n\n.slider_macros_field_compact {\n    flex: 1;\n    min-width: 0;\n}\n\n.slider_macros_field_half {\n    flex: 1;\n    min-width: 0;\n}\n\n.slider_macros_label {\n    font-size: 0.8em;\n    color: var(--SmartThemeQuoteColor, #aaa);\n    font-weight: 500;\n}\n\n.slider_macros_optional {\n    opacity: 0.6;\n    font-weight: 400;\n}\n\n/* Macro Variable Input with decorators */\n.slider_macros_macro_input {\n    display: flex;\n    align-items: center;\n    gap: 0;\n}\n\n.slider_macros_macro_input input {\n    flex: 1;\n    border-radius: 0;\n    text-align: center;\n    font-family: monospace;\n}\n\n.slider_macros_macro_prefix,\n.slider_macros_macro_suffix {\n    padding: 6px 8px;\n    background: var(--SmartThemeBlurTintColor, rgba(0,0,0,0.3));\n    border: 1px solid var(--SmartThemeBorderColor, #444);\n    font-family: monospace;\n    font-size: 0.9em;\n    color: var(--SmartThemeQuoteColor, #888);\n}\n\n.slider_macros_macro_prefix {\n    border-right: none;\n    border-radius: 4px 0 0 4px;\n}\n\n.slider_macros_macro_suffix {\n    border-left: none;\n    border-radius: 0 4px 4px 0;\n}\n\n/* Type sections */\n.slider_macros_type_section {\n    padding-top: 8px;\n    border-top: 1px dashed var(--SmartThemeBorderColor, #333);\n    margin-top: 4px;\n}\n\n/* Card Footer */\n.slider_macros_card_footer {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding: 8px 12px;\n    background: var(--SmartThemeBlurTintColor, rgba(0,0,0,0.1));\n    border-top: 1px solid var(--SmartThemeBorderColor, #333);\n}\n\n.slider_macros_card_actions_left,\n.slider_macros_card_actions_right {\n    display: flex;\n    gap: 4px;\n}\n\n.slider_macros_btn_subtle {\n    opacity: 0.6;\n    transition: opacity 0.2s ease;\n}\n\n.slider_macros_btn_subtle:hover {\n    opacity: 1;\n}\n\n.slider_macros_btn_danger {\n    color: var(--SmartThemeQuoteColor, #888);\n    transition: color 0.2s ease;\n}\n\n.slider_macros_btn_danger:hover {\n    color: #e74c3c;\n}\n\n/* ============================================\n   COMPLETION PANEL SLIDER STYLES\n   ============================================ */\n\n.slider_macros_container .range-block {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    width: 100%;\n}\n\n.slider_macros_container .range-block-range-and-counter {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    width: 100%;\n}\n\n.slider_macros_container .range-block-range {\n    flex: 1;\n    width: 100%;\n    display: flex;\n    align-items: center;\n}\n\n.slider_macros_container .range-block-range input[type=\"range\"] {\n    width: 100% !important;\n    margin: 0;\n    margin-right: 10px;\n    max-width: none;\n    flex-grow: 1;\n}\n\n.slider_macros_container .range-block-counter {\n    width: 60px;\n    min-width: 60px;\n    flex: 0 0 60px;\n    text-align: right;\n    display: flex;\n    justify-content: flex-end;\n}\n",""]);const l=s},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(o)for(var l=0;l<this.length;l++){var a=this[l][0];null!=a&&(s[a]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);o&&s[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),t.push(d))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},s=[],l=0;l<e.length;l++){var a=e[l],c=o.base?a[0]+o.base:a[0],d=i[c]||0,u="".concat(c," ").concat(d);i[c]=d+1;var f=n(u),m={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==f)t[f].references++,t[f].updater(m);else{var p=r(m,o);o.byIndex=l,t.splice(l,0,{identifier:u,updater:p,references:1})}s.push(u)}return s}function r(e,t){var n=t.domAPI(t);n.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var l=n(i[s]);t[l].references--}for(var a=o(e,r),c=0;c<i.length;c++){var d=n(i[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}i=a}}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0;const o=Symbol.for("yaml.alias"),r=Symbol.for("yaml.document"),i=Symbol.for("yaml.map"),s=Symbol.for("yaml.pair"),l=Symbol.for("yaml.scalar"),a=Symbol.for("yaml.seq"),c=Symbol.for("yaml.node.type"),d=e=>!!e&&"object"==typeof e&&e[c]===o,u=e=>!!e&&"object"==typeof e&&e[c]===r,f=e=>!!e&&"object"==typeof e&&e[c]===i,m=e=>!!e&&"object"==typeof e&&e[c]===s,p=e=>!!e&&"object"==typeof e&&e[c]===l,g=e=>!!e&&"object"==typeof e&&e[c]===a;function h(e){if(e&&"object"==typeof e)switch(e[c]){case i:case a:return!0}return!1}function y(e){if(e&&"object"==typeof e)switch(e[c]){case o:case i:case l:case a:return!0}return!1}const v=e=>(p(e)||h(e))&&!!e.anchor,_=Symbol("break visit"),b=Symbol("skip children"),w=Symbol("remove node");function S(e,t){const n=O(t);if(u(e)){x(null,e.contents,n,Object.freeze([e]))===w&&(e.contents=null)}else x(null,e,n,Object.freeze([]))}function x(e,t,n,o){const r=N(e,t,n,o);if(y(r)||m(r))return k(e,o,r),x(e,r,n,o);if("symbol"!=typeof r)if(h(t)){o=Object.freeze(o.concat(t));for(let e=0;e<t.items.length;++e){const r=x(e,t.items[e],n,o);if("number"==typeof r)e=r-1;else{if(r===_)return _;r===w&&(t.items.splice(e,1),e-=1)}}}else if(m(t)){o=Object.freeze(o.concat(t));const e=x("key",t.key,n,o);if(e===_)return _;e===w&&(t.key=null);const r=x("value",t.value,n,o);if(r===_)return _;r===w&&(t.value=null)}return r}async function E(e,t){const n=O(t);if(u(e)){await C(null,e.contents,n,Object.freeze([e]))===w&&(e.contents=null)}else await C(null,e,n,Object.freeze([]))}async function C(e,t,n,o){const r=await N(e,t,n,o);if(y(r)||m(r))return k(e,o,r),C(e,r,n,o);if("symbol"!=typeof r)if(h(t)){o=Object.freeze(o.concat(t));for(let e=0;e<t.items.length;++e){const r=await C(e,t.items[e],n,o);if("number"==typeof r)e=r-1;else{if(r===_)return _;r===w&&(t.items.splice(e,1),e-=1)}}}else if(m(t)){o=Object.freeze(o.concat(t));const e=await C("key",t.key,n,o);if(e===_)return _;e===w&&(t.key=null);const r=await C("value",t.value,n,o);if(r===_)return _;r===w&&(t.value=null)}return r}function O(e){return"object"==typeof e&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function N(e,t,n,o){return"function"==typeof n?n(e,t,o):f(t)?n.Map?.(e,t,o):g(t)?n.Seq?.(e,t,o):m(t)?n.Pair?.(e,t,o):p(t)?n.Scalar?.(e,t,o):d(t)?n.Alias?.(e,t,o):void 0}function k(e,t,n){const o=t[t.length-1];if(h(o))o.items[e]=n;else if(m(o))"key"===e?o.key=n:o.value=n;else{if(!u(o)){const e=d(o)?"alias":"scalar";throw new Error(`Cannot replace node with ${e} parent`)}o.contents=n}}S.BREAK=_,S.SKIP=b,S.REMOVE=w,E.BREAK=_,E.SKIP=b,E.REMOVE=w;const T={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"};class I{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},I.defaultYaml,e),this.tags=Object.assign({},I.defaultTags,t)}clone(){const e=new I(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new I(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:I.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},I.defaultTags)}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:I.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},I.defaultTags),this.atNextDocument=!1);const n=e.trim().split(/[ \t]+/),o=n.shift();switch(o){case"%TAG":{if(2!==n.length&&(t(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;const[e,o]=n;return this.tags[e]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,1!==n.length)return t(0,"%YAML directive should contain exactly one part"),!1;const[e]=n;if("1.1"===e||"1.2"===e)return this.yaml.version=e,!0;return t(6,`Unsupported YAML version ${e}`,/^\d+\.\d+$/.test(e)),!1}default:return t(0,`Unknown directive ${o}`,!0),!1}}tagName(e,t){if("!"===e)return"!";if("!"!==e[0])return t(`Not a valid tag: ${e}`),null;if("<"===e[1]){const n=e.slice(2,-1);return"!"===n||"!!"===n?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(">"!==e[e.length-1]&&t("Verbatim tags must end with a >"),n)}const[,n,o]=e.match(/^(.*!)([^!]*)$/s);o||t(`The ${e} tag has no suffix`);const r=this.tags[n];if(r)try{return r+decodeURIComponent(o)}catch(e){return t(String(e)),null}return"!"===n?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[t,n]of Object.entries(this.tags))if(e.startsWith(n))return t+e.substring(n.length).replace(/[!,[\]{}]/g,(e=>T[e]));return"!"===e[0]?e:`!<${e}>`}toString(e){const t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],n=Object.entries(this.tags);let o;if(e&&n.length>0&&y(e.contents)){const t={};S(e.contents,((e,n)=>{y(n)&&n.tag&&(t[n.tag]=!0)})),o=Object.keys(t)}else o=[];for(const[r,i]of n)"!!"===r&&"tag:yaml.org,2002:"===i||e&&!o.some((e=>e.startsWith(i)))||t.push(`%TAG ${r} ${i}`);return t.join("\n")}}function L(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){const t=JSON.stringify(e);throw new Error(`Anchor must not contain whitespace or control characters: ${t}`)}return!0}function A(e,t,n,o){if(o&&"object"==typeof o)if(Array.isArray(o))for(let t=0,n=o.length;t<n;++t){const n=o[t],r=A(e,o,String(t),n);void 0===r?delete o[t]:r!==n&&(o[t]=r)}else if(o instanceof Map)for(const t of Array.from(o.keys())){const n=o.get(t),r=A(e,o,t,n);void 0===r?o.delete(t):r!==n&&o.set(t,r)}else if(o instanceof Set)for(const t of Array.from(o)){const n=A(e,o,t,t);void 0===n?o.delete(t):n!==t&&(o.delete(t),o.add(n))}else for(const[t,n]of Object.entries(o)){const r=A(e,o,t,n);void 0===r?delete o[t]:r!==n&&(o[t]=r)}return e.call(t,n,o)}function B(e,t,n){if(Array.isArray(e))return e.map(((e,t)=>B(e,String(t),n)));if(e&&"function"==typeof e.toJSON){if(!n||!v(e))return e.toJSON(t,n);const o={aliasCount:0,count:1,res:void 0};n.anchors.set(e,o),n.onCreate=e=>{o.res=e,delete n.onCreate};const r=e.toJSON(t,n);return n.onCreate&&n.onCreate(r),r}return"bigint"!=typeof e||n?.keep?e:Number(e)}I.defaultYaml={explicit:!1,version:"1.2"},I.defaultTags={"!!":"tag:yaml.org,2002:"};class j{constructor(e){Object.defineProperty(this,c,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:n,onAnchor:o,reviver:r}={}){if(!u(e))throw new TypeError("A document argument is required");const i={anchors:new Map,doc:e,keep:!0,mapAsMap:!0===t,mapKeyWarned:!1,maxAliasCount:"number"==typeof n?n:100},s=B(this,"",i);if("function"==typeof o)for(const{count:e,res:t}of i.anchors.values())o(t,e);return"function"==typeof r?A(r,{"":s},"",s):s}}class M extends j{constructor(e){super(o),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return S(e,{Node:(e,n)=>{if(n===this)return S.BREAK;n.anchor===this.source&&(t=n)}}),t}toJSON(e,t){if(!t)return{source:this.source};const{anchors:n,doc:o,maxAliasCount:r}=t,i=this.resolve(o);if(!i){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(e)}let s=n.get(i);if(s||(B(i,null,t),s=n.get(i)),!s||void 0===s.res){throw new ReferenceError("This should not happen: Alias anchor was not resolved?")}if(r>=0&&(s.count+=1,0===s.aliasCount&&(s.aliasCount=F(o,i,n)),s.count*s.aliasCount>r)){throw new ReferenceError("Excessive alias count indicates a resource exhaustion attack")}return s.res}toString(e,t,n){const o=`*${this.source}`;if(e){if(L(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const e=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(e)}if(e.implicitKey)return`${o} `}return o}}function F(e,t,n){if(d(t)){const o=t.resolve(e),r=n&&o&&n.get(o);return r?r.count*r.aliasCount:0}if(h(t)){let o=0;for(const r of t.items){const t=F(e,r,n);t>o&&(o=t)}return o}if(m(t)){const o=F(e,t.key,n),r=F(e,t.value,n);return Math.max(o,r)}return 1}const q=e=>!e||"function"!=typeof e&&"object"!=typeof e;class D extends j{constructor(e){super(l),this.value=e}toJSON(e,t){return t?.keep?this.value:B(this.value,e,t)}toString(){return String(this.value)}}D.BLOCK_FOLDED="BLOCK_FOLDED",D.BLOCK_LITERAL="BLOCK_LITERAL",D.PLAIN="PLAIN",D.QUOTE_DOUBLE="QUOTE_DOUBLE",D.QUOTE_SINGLE="QUOTE_SINGLE";const P="tag:yaml.org,2002:";function K(e,t,n){if(u(e)&&(e=e.contents),y(e))return e;if(m(e)){const t=n.schema[i].createNode?.(n.schema,null,n);return t.items.push(e),t}(e instanceof String||e instanceof Number||e instanceof Boolean||"undefined"!=typeof BigInt&&e instanceof BigInt)&&(e=e.valueOf());const{aliasDuplicateObjects:o,onAnchor:r,onTagObj:s,schema:l,sourceObjects:c}=n;let d;if(o&&e&&"object"==typeof e){if(d=c.get(e),d)return d.anchor||(d.anchor=r(e)),new M(d.anchor);d={anchor:null,node:null},c.set(e,d)}t?.startsWith("!!")&&(t=P+t.slice(2));let f=function(e,t,n){if(t){const e=n.filter((e=>e.tag===t)),o=e.find((e=>!e.format))??e[0];if(!o)throw new Error(`Tag ${t} not found`);return o}return n.find((t=>t.identify?.(e)&&!t.format))}(e,t,l.tags);if(!f){if(e&&"function"==typeof e.toJSON&&(e=e.toJSON()),!e||"object"!=typeof e){const t=new D(e);return d&&(d.node=t),t}f=e instanceof Map?l[i]:Symbol.iterator in Object(e)?l[a]:l[i]}s&&(s(f),delete n.onTagObj);const p=f?.createNode?f.createNode(n.schema,e,n):"function"==typeof f?.nodeClass?.from?f.nodeClass.from(n.schema,e,n):new D(e);return t?p.tag=t:f.default||(p.tag=f.tag),d&&(d.node=p),p}function J(e,t,n){let o=n;for(let e=t.length-1;e>=0;--e){const n=t[e];if("number"==typeof n&&Number.isInteger(n)&&n>=0){const e=[];e[n]=o,o=e}else o=new Map([[n,o]])}return K(o,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}class R extends j{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map((t=>y(t)||m(t)?t.clone(e):t)),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if((e=>null==e||"object"==typeof e&&!!e[Symbol.iterator]().next().done)(e))this.add(t);else{const[n,...o]=e,r=this.get(n,!0);if(h(r))r.addIn(o,t);else{if(void 0!==r||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${o}`);this.set(n,J(this.schema,o,t))}}}deleteIn(e){const[t,...n]=e;if(0===n.length)return this.delete(t);const o=this.get(t,!0);if(h(o))return o.deleteIn(n);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${n}`)}getIn(e,t){const[n,...o]=e,r=this.get(n,!0);return 0===o.length?!t&&p(r)?r.value:r:h(r)?r.getIn(o,t):void 0}hasAllNullValues(e){return this.items.every((t=>{if(!m(t))return!1;const n=t.value;return null==n||e&&p(n)&&null==n.value&&!n.commentBefore&&!n.comment&&!n.tag}))}hasIn(e){const[t,...n]=e;if(0===n.length)return this.has(t);const o=this.get(t,!0);return!!h(o)&&o.hasIn(n)}setIn(e,t){const[n,...o]=e;if(0===o.length)this.set(n,t);else{const e=this.get(n,!0);if(h(e))e.setIn(o,t);else{if(void 0!==e||!this.schema)throw new Error(`Expected YAML collection at ${n}. Remaining path: ${o}`);this.set(n,J(this.schema,o,t))}}}}const U=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function V(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}const W=(e,t,n)=>e.endsWith("\n")?V(n,t):n.includes("\n")?"\n"+V(n,t):(e.endsWith(" ")?"":" ")+n,Q="flow",Y="block",z="quoted";function H(e,t,n="flow",{indentAtStart:o,lineWidth:r=80,minContentWidth:i=20,onFold:s,onOverflow:l}={}){if(!r||r<0)return e;r<i&&(i=0);const a=Math.max(1+i,1+r-t.length);if(e.length<=a)return e;const c=[],d={};let u,f,m=r-t.length;"number"==typeof o&&(o>r-Math.max(2,i)?c.push(0):m=r-o);let p=!1,g=-1,h=-1,y=-1;n===Y&&(g=G(e,g,t.length),-1!==g&&(m=g+a));for(let o;o=e[g+=1];){if(n===z&&"\\"===o){switch(h=g,e[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}y=g}if("\n"===o)n===Y&&(g=G(e,g,t.length)),m=g+t.length+a,u=void 0;else{if(" "===o&&f&&" "!==f&&"\n"!==f&&"\t"!==f){const t=e[g+1];t&&" "!==t&&"\n"!==t&&"\t"!==t&&(u=g)}if(g>=m)if(u)c.push(u),m=u+a,u=void 0;else if(n===z){for(;" "===f||"\t"===f;)f=o,o=e[g+=1],p=!0;const t=g>y+1?g-2:h-1;if(d[t])return e;c.push(t),d[t]=!0,m=t+a,u=void 0}else p=!0}f=o}if(p&&l&&l(),0===c.length)return e;s&&s();let v=e.slice(0,c[0]);for(let o=0;o<c.length;++o){const r=c[o],i=c[o+1]||e.length;0===r?v=`\n${t}${e.slice(0,i)}`:(n===z&&d[r]&&(v+=`${e[r]}\\`),v+=`\n${t}${e.slice(r+1,i)}`)}return v}function G(e,t,n){let o=t,r=t+1,i=e[r];for(;" "===i||"\t"===i;)if(t<r+n)i=e[++t];else{do{i=e[++t]}while(i&&"\n"!==i);o=t,r=t+1,i=e[r]}return o}const X=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),Z=e=>/^(%|---|\.\.\.)/m.test(e);function ee(e,t){const n=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return n;const{implicitKey:o}=t,r=t.options.doubleQuotedMinMultiLineLength,i=t.indent||(Z(e)?"  ":"");let s="",l=0;for(let e=0,t=n[e];t;t=n[++e])if(" "===t&&"\\"===n[e+1]&&"n"===n[e+2]&&(s+=n.slice(l,e)+"\\ ",e+=1,l=e,t="\\"),"\\"===t)switch(n[e+1]){case"u":{s+=n.slice(l,e);const t=n.substr(e+2,4);switch(t){case"0000":s+="\\0";break;case"0007":s+="\\a";break;case"000b":s+="\\v";break;case"001b":s+="\\e";break;case"0085":s+="\\N";break;case"00a0":s+="\\_";break;case"2028":s+="\\L";break;case"2029":s+="\\P";break;default:"00"===t.substr(0,2)?s+="\\x"+t.substr(2):s+=n.substr(e,6)}e+=5,l=e+1}break;case"n":if(o||'"'===n[e+2]||n.length<r)e+=1;else{for(s+=n.slice(l,e)+"\n\n";"\\"===n[e+2]&&"n"===n[e+3]&&'"'!==n[e+4];)s+="\n",e+=2;s+=i," "===n[e+2]&&(s+="\\"),e+=1,l=e+1}break;default:e+=1}return s=l?s+n.slice(l):n,o?s:H(s,i,z,X(t,!1))}function te(e,t){if(!1===t.options.singleQuote||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return ee(e,t);const n=t.indent||(Z(e)?"  ":""),o="'"+e.replace(/'/g,"''").replace(/\n+/g,`$&\n${n}`)+"'";return t.implicitKey?o:H(o,n,Q,X(t,!1))}function ne(e,t){const{singleQuote:n}=t.options;let o;if(!1===n)o=ee;else{const t=e.includes('"'),r=e.includes("'");o=t&&!r?te:r&&!t?ee:n?te:ee}return o(e,t)}let oe;try{oe=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{oe=/\n+(?!\n|$)/g}function re({comment:e,type:t,value:n},o,r,i){const{blockQuote:s,commentString:l,lineWidth:a}=o.options;if(!s||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return ne(n,o);const c=o.indent||(o.forceBlockIndent||Z(n)?"  ":""),d="literal"===s||"folded"!==s&&t!==D.BLOCK_FOLDED&&(t===D.BLOCK_LITERAL||!function(e,t,n){if(!t||t<0)return!1;const o=t-n,r=e.length;if(r<=o)return!1;for(let t=0,n=0;t<r;++t)if("\n"===e[t]){if(t-n>o)return!0;if(n=t+1,r-n<=o)return!1}return!0}(n,a,c.length));if(!n)return d?"|\n":">\n";let u,f;for(f=n.length;f>0;--f){const e=n[f-1];if("\n"!==e&&"\t"!==e&&" "!==e)break}let m=n.substring(f);const p=m.indexOf("\n");-1===p?u="-":n===m||p!==m.length-1?(u="+",i&&i()):u="",m&&(n=n.slice(0,-m.length),"\n"===m[m.length-1]&&(m=m.slice(0,-1)),m=m.replace(oe,`$&${c}`));let g,h=!1,y=-1;for(g=0;g<n.length;++g){const e=n[g];if(" "===e)h=!0;else{if("\n"!==e)break;y=g}}let v=n.substring(0,y<g?y+1:g);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${c}`));let _=(h?c?"2":"1":"")+u;if(e&&(_+=" "+l(e.replace(/ ?[\r\n]+/g," ")),r&&r()),!d){const e=n.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let r=!1;const i=X(o,!0);"folded"!==s&&t!==D.BLOCK_FOLDED&&(i.onOverflow=()=>{r=!0});const l=H(`${v}${e}${m}`,c,Y,i);if(!r)return`>${_}\n${c}${l}`}return`|${_}\n${c}${v}${n=n.replace(/\n+/g,`$&${c}`)}${m}`}function ie(e,t,n,o){const{implicitKey:r,inFlow:i}=t,s="string"==typeof e.value?e:Object.assign({},e,{value:String(e.value)});let{type:l}=e;l!==D.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(s.value)&&(l=D.QUOTE_DOUBLE);const a=e=>{switch(e){case D.BLOCK_FOLDED:case D.BLOCK_LITERAL:return r||i?ne(s.value,t):re(s,t,n,o);case D.QUOTE_DOUBLE:return ee(s.value,t);case D.QUOTE_SINGLE:return te(s.value,t);case D.PLAIN:return function(e,t,n,o){const{type:r,value:i}=e,{actualString:s,implicitKey:l,indent:a,indentStep:c,inFlow:d}=t;if(l&&i.includes("\n")||d&&/[[\]{},]/.test(i))return ne(i,t);if(!i||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return l||d||!i.includes("\n")?ne(i,t):re(e,t,n,o);if(!l&&!d&&r!==D.PLAIN&&i.includes("\n"))return re(e,t,n,o);if(Z(i)){if(""===a)return t.forceBlockIndent=!0,re(e,t,n,o);if(l&&a===c)return ne(i,t)}const u=i.replace(/\n+/g,`$&\n${a}`);if(s){const e=e=>e.default&&"tag:yaml.org,2002:str"!==e.tag&&e.test?.test(u),{compat:n,tags:o}=t.doc.schema;if(o.some(e)||n?.some(e))return ne(i,t)}return l?u:H(u,a,Q,X(t,!1))}(s,t,n,o);default:return null}};let c=a(l);if(null===c){const{defaultKeyType:e,defaultStringType:n}=t.options,o=r&&e||n;if(c=a(o),null===c)throw new Error(`Unsupported default string type ${o}`)}return c}function se(e,t,n,o){if(m(e))return e.toString(t,n,o);if(d(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let r;const i=y(e)?e:t.doc.createNode(e,{onTagObj:e=>r=e});r||(r=function(e,t){if(t.tag){const n=e.filter((e=>e.tag===t.tag));if(n.length>0)return n.find((e=>e.format===t.format))??n[0]}let n,o;if(p(t)){o=t.value;let r=e.filter((e=>e.identify?.(o)));if(r.length>1){const e=r.filter((e=>e.test));e.length>0&&(r=e)}n=r.find((e=>e.format===t.format))??r.find((e=>!e.format))}else o=t,n=e.find((e=>e.nodeClass&&o instanceof e.nodeClass));if(!n)throw new Error(`Tag not resolved for ${o?.constructor?.name??typeof o} value`);return n}(t.doc.schema.tags,i));const s=function(e,t,{anchors:n,doc:o}){if(!o.directives)return"";const r=[],i=(p(e)||h(e))&&e.anchor;i&&L(i)&&(n.add(i),r.push(`&${i}`));const s=e.tag?e.tag:t.default?null:t.tag;return s&&r.push(o.directives.tagString(s)),r.join(" ")}(i,r,t);s.length>0&&(t.indentAtStart=(t.indentAtStart??0)+s.length+1);const l="function"==typeof r.stringify?r.stringify(i,t,n,o):p(i)?ie(i,t,n,o):i.toString(t,n,o);return s?p(i)||"{"===l[0]||"["===l[0]?`${s} ${l}`:`${s}\n${t.indent}${l}`:l}const le="<<",ae={identify:e=>e===le||"symbol"==typeof e&&e.description===le,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new D(Symbol(le)),{addToJSMap:ce}),stringify:()=>le};function ce(e,t,n){if(n=e&&d(n)?n.resolve(e.doc):n,g(n))for(const o of n.items)de(e,t,o);else if(Array.isArray(n))for(const o of n)de(e,t,o);else de(e,t,n)}function de(e,t,n){const o=e&&d(n)?n.resolve(e.doc):n;if(!f(o))throw new Error("Merge sources must be maps or map aliases");const r=o.toJSON(null,e,Map);for(const[e,n]of r)t instanceof Map?t.has(e)||t.set(e,n):t instanceof Set?t.add(e):Object.prototype.hasOwnProperty.call(t,e)||Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0});return t}function ue(e,t,{key:n,value:o}){if(y(n)&&n.addToJSMap)n.addToJSMap(e,t,o);else if(((e,t)=>(ae.identify(t)||p(t)&&(!t.type||t.type===D.PLAIN)&&ae.identify(t.value))&&e?.doc.schema.tags.some((e=>e.tag===ae.tag&&e.default)))(e,n))ce(e,t,o);else{const r=B(n,"",e);if(t instanceof Map)t.set(r,B(o,r,e));else if(t instanceof Set)t.add(r);else{const i=function(e,t,n){if(null===t)return"";if("object"!=typeof t)return String(t);if(y(e)&&n?.doc){const t=function(e,t){const n=Object.assign({blockQuote:!0,commentString:U,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t);let o;switch(n.collectionStyle){case"block":o=!1;break;case"flow":o=!0;break;default:o=null}return{anchors:new Set,doc:e,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:"number"==typeof n.indent?" ".repeat(n.indent):"  ",inFlow:o,options:n}}(n.doc,{});t.anchors=new Set;for(const e of n.anchors.keys())t.anchors.add(e.anchor);t.inFlow=!0,t.inStringifyKey=!0;const i=e.toString(t);if(!n.mapKeyWarned){let e=JSON.stringify(i);e.length>40&&(e=e.substring(0,36)+'..."'),o=n.doc.options.logLevel,r=`Keys with collection values will be stringified due to JS Object restrictions: ${e}. Set mapAsMap: true to use object keys.`,"debug"!==o&&"warn"!==o||console.warn(r),n.mapKeyWarned=!0}return i}var o,r;return JSON.stringify(t)}(n,r,e),s=B(o,i,e);i in t?Object.defineProperty(t,i,{value:s,writable:!0,enumerable:!0,configurable:!0}):t[i]=s}}return t}function fe(e,t,n){const o=K(e,void 0,n),r=K(t,void 0,n);return new me(o,r)}class me{constructor(e,t=null){Object.defineProperty(this,c,{value:s}),this.key=e,this.value=t}clone(e){let{key:t,value:n}=this;return y(t)&&(t=t.clone(e)),y(n)&&(n=n.clone(e)),new me(t,n)}toJSON(e,t){return ue(t,t?.mapAsMap?new Map:{},this)}toString(e,t,n){return e?.doc?function({key:e,value:t},n,o,r){const{allNullValues:i,doc:s,indent:l,indentStep:a,options:{commentString:c,indentSeq:d,simpleKeys:u}}=n;let f=y(e)&&e.comment||null;if(u){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(h(e)||!y(e)&&"object"==typeof e)throw new Error("With simple keys, collection cannot be used as a key value")}let m=!u&&(!e||f&&null==t&&!n.inFlow||h(e)||(p(e)?e.type===D.BLOCK_FOLDED||e.type===D.BLOCK_LITERAL:"object"==typeof e));n=Object.assign({},n,{allNullValues:!1,implicitKey:!m&&(u||!i),indent:l+a});let v,_,b,w=!1,S=!1,x=se(e,n,(()=>w=!0),(()=>S=!0));if(!m&&!n.inFlow&&x.length>1024){if(u)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");m=!0}if(n.inFlow){if(i||null==t)return w&&o&&o(),""===x?"?":m?`? ${x}`:x}else if(i&&!u||null==t&&m)return x=`? ${x}`,f&&!w?x+=W(x,n.indent,c(f)):S&&r&&r(),x;w&&(f=null),m?(f&&(x+=W(x,n.indent,c(f))),x=`? ${x}\n${l}:`):(x=`${x}:`,f&&(x+=W(x,n.indent,c(f)))),y(t)?(v=!!t.spaceBefore,_=t.commentBefore,b=t.comment):(v=!1,_=null,b=null,t&&"object"==typeof t&&(t=s.createNode(t))),n.implicitKey=!1,m||f||!p(t)||(n.indentAtStart=x.length+1),S=!1,d||!(a.length>=2)||n.inFlow||m||!g(t)||t.flow||t.tag||t.anchor||(n.indent=n.indent.substring(2));let E=!1;const C=se(t,n,(()=>E=!0),(()=>S=!0));let O=" ";if(f||v||_)O=v?"\n":"",_&&(O+=`\n${V(c(_),n.indent)}`),""!==C||n.inFlow?O+=`\n${n.indent}`:"\n"===O&&(O="\n\n");else if(!m&&h(t)){const e=C[0],o=C.indexOf("\n"),r=-1!==o,i=n.inFlow??t.flow??0===t.items.length;if(r||!i){let t=!1;if(r&&("&"===e||"!"===e)){let n=C.indexOf(" ");"&"===e&&-1!==n&&n<o&&"!"===C[n+1]&&(n=C.indexOf(" ",n+1)),(-1===n||o<n)&&(t=!0)}t||(O=`\n${n.indent}`)}}else""!==C&&"\n"!==C[0]||(O="");return x+=O+C,n.inFlow?E&&o&&o():b&&!E?x+=W(x,n.indent,c(b)):S&&r&&r(),x}(this,e,t,n):JSON.stringify(this)}}function pe(e,t,n){return(t.inFlow??e.flow?he:ge)(e,t,n)}function ge({comment:e,items:t},n,{blockItemPrefix:o,flowChars:r,itemIndent:i,onChompKeep:s,onComment:l}){const{indent:a,options:{commentString:c}}=n,d=Object.assign({},n,{indent:i,type:null});let u=!1;const f=[];for(let e=0;e<t.length;++e){const r=t[e];let s=null;if(y(r))!u&&r.spaceBefore&&f.push(""),ye(n,f,r.commentBefore,u),r.comment&&(s=r.comment);else if(m(r)){const e=y(r.key)?r.key:null;e&&(!u&&e.spaceBefore&&f.push(""),ye(n,f,e.commentBefore,u))}u=!1;let l=se(r,d,(()=>s=null),(()=>u=!0));s&&(l+=W(l,i,c(s))),u&&s&&(u=!1),f.push(o+l)}let p;if(0===f.length)p=r.start+r.end;else{p=f[0];for(let e=1;e<f.length;++e){const t=f[e];p+=t?`\n${a}${t}`:"\n"}}return e?(p+="\n"+V(c(e),a),l&&l()):u&&s&&s(),p}function he({items:e},t,{flowChars:n,itemIndent:o}){const{indent:r,indentStep:i,flowCollectionPadding:s,options:{commentString:l}}=t;o+=i;const a=Object.assign({},t,{indent:o,inFlow:!0,type:null});let c=!1,d=0;const u=[];for(let n=0;n<e.length;++n){const r=e[n];let i=null;if(y(r))r.spaceBefore&&u.push(""),ye(t,u,r.commentBefore,!1),r.comment&&(i=r.comment);else if(m(r)){const e=y(r.key)?r.key:null;e&&(e.spaceBefore&&u.push(""),ye(t,u,e.commentBefore,!1),e.comment&&(c=!0));const n=y(r.value)?r.value:null;n?(n.comment&&(i=n.comment),n.commentBefore&&(c=!0)):null==r.value&&e?.comment&&(i=e.comment)}i&&(c=!0);let s=se(r,a,(()=>i=null));n<e.length-1&&(s+=","),i&&(s+=W(s,o,l(i))),!c&&(u.length>d||s.includes("\n"))&&(c=!0),u.push(s),d=u.length}const{start:f,end:p}=n;if(0===u.length)return f+p;if(!c){const e=u.reduce(((e,t)=>e+t.length+2),2);c=t.options.lineWidth>0&&e>t.options.lineWidth}if(c){let e=f;for(const t of u)e+=t?`\n${i}${r}${t}`:"\n";return`${e}\n${r}${p}`}return`${f}${s}${u.join(" ")}${s}${p}`}function ye({indent:e,options:{commentString:t}},n,o,r){if(o&&r&&(o=o.replace(/^\n+/,"")),o){const r=V(t(o),e);n.push(r.trimStart())}}function ve(e,t){const n=p(t)?t.value:t;for(const o of e)if(m(o)){if(o.key===t||o.key===n)return o;if(p(o.key)&&o.key.value===n)return o}}class _e extends R{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(i,e),this.items=[]}static from(e,t,n){const{keepUndefined:o,replacer:r}=n,i=new this(e),s=(e,s)=>{if("function"==typeof r)s=r.call(t,e,s);else if(Array.isArray(r)&&!r.includes(e))return;(void 0!==s||o)&&i.items.push(fe(e,s,n))};if(t instanceof Map)for(const[e,n]of t)s(e,n);else if(t&&"object"==typeof t)for(const e of Object.keys(t))s(e,t[e]);return"function"==typeof e.sortMapEntries&&i.items.sort(e.sortMapEntries),i}add(e,t){let n;n=m(e)?e:e&&"object"==typeof e&&"key"in e?new me(e.key,e.value):new me(e,e?.value);const o=ve(this.items,n.key),r=this.schema?.sortMapEntries;if(o){if(!t)throw new Error(`Key ${n.key} already set`);p(o.value)&&q(n.value)?o.value.value=n.value:o.value=n.value}else if(r){const e=this.items.findIndex((e=>r(n,e)<0));-1===e?this.items.push(n):this.items.splice(e,0,n)}else this.items.push(n)}delete(e){const t=ve(this.items,e);if(!t)return!1;return this.items.splice(this.items.indexOf(t),1).length>0}get(e,t){const n=ve(this.items,e),o=n?.value;return(!t&&p(o)?o.value:o)??void 0}has(e){return!!ve(this.items,e)}set(e,t){this.add(new me(e,t),!0)}toJSON(e,t,n){const o=n?new n:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(o);for(const e of this.items)ue(t,o,e);return o}toString(e,t,n){if(!e)return JSON.stringify(this);for(const e of this.items)if(!m(e))throw new Error(`Map items must all be pairs; found ${JSON.stringify(e)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),pe(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:n,onComment:t})}}const be={collection:"map",default:!0,nodeClass:_e,tag:"tag:yaml.org,2002:map",resolve:(e,t)=>(f(e)||t("Expected a mapping for this tag"),e),createNode:(e,t,n)=>_e.from(e,t,n)};class we extends R{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(a,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=Se(e);if("number"!=typeof t)return!1;return this.items.splice(t,1).length>0}get(e,t){const n=Se(e);if("number"!=typeof n)return;const o=this.items[n];return!t&&p(o)?o.value:o}has(e){const t=Se(e);return"number"==typeof t&&t<this.items.length}set(e,t){const n=Se(e);if("number"!=typeof n)throw new Error(`Expected a valid index, not ${e}.`);const o=this.items[n];p(o)&&q(t)?o.value=t:this.items[n]=t}toJSON(e,t){const n=[];t?.onCreate&&t.onCreate(n);let o=0;for(const e of this.items)n.push(B(e,String(o++),t));return n}toString(e,t,n){return e?pe(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:n,onComment:t}):JSON.stringify(this)}static from(e,t,n){const{replacer:o}=n,r=new this(e);if(t&&Symbol.iterator in Object(t)){let e=0;for(let i of t){if("function"==typeof o){const n=t instanceof Set?i:String(e++);i=o.call(t,n,i)}r.items.push(K(i,void 0,n))}}return r}}function Se(e){let t=p(e)?e.value:e;return t&&"string"==typeof t&&(t=Number(t)),"number"==typeof t&&Number.isInteger(t)&&t>=0?t:null}const xe={collection:"seq",default:!0,nodeClass:we,tag:"tag:yaml.org,2002:seq",resolve:(e,t)=>(g(e)||t("Expected a sequence for this tag"),e),createNode:(e,t,n)=>we.from(e,t,n)},Ee={identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:(e,t,n,o)=>ie(e,t=Object.assign({actualString:!0},t),n,o)},Ce={identify:e=>null==e,createNode:()=>new D(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new D(null),stringify:({source:e},t)=>"string"==typeof e&&Ce.test.test(e)?e:t.options.nullStr},Oe={identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new D("t"===e[0]||"T"===e[0]),stringify({source:e,value:t},n){if(e&&Oe.test.test(e)){if(t===("t"===e[0]||"T"===e[0]))return e}return t?n.options.trueStr:n.options.falseStr}};function Ne({format:e,minFractionDigits:t,tag:n,value:o}){if("bigint"==typeof o)return String(o);const r="number"==typeof o?o:Number(o);if(!isFinite(r))return isNaN(r)?".nan":r<0?"-.inf":".inf";let i=JSON.stringify(o);if(!e&&t&&(!n||"tag:yaml.org,2002:float"===n)&&/^\d/.test(i)){let e=i.indexOf(".");e<0&&(e=i.length,i+=".");let n=t-(i.length-e-1);for(;n-- >0;)i+="0"}return i}const ke={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ne},$e={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ne(e)}},Te={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){const t=new D(parseFloat(e)),n=e.indexOf(".");return-1!==n&&"0"===e[e.length-1]&&(t.minFractionDigits=e.length-n-1),t},stringify:Ne},Ie=e=>"bigint"==typeof e||Number.isInteger(e),Le=(e,t,n,{intAsBigInt:o})=>o?BigInt(e):parseInt(e.substring(t),n);function Ae(e,t,n){const{value:o}=e;return Ie(o)&&o>=0?n+o.toString(t):Ne(e)}const Be={identify:e=>Ie(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,n)=>Le(e,2,8,n),stringify:e=>Ae(e,8,"0o")},je={identify:Ie,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,n)=>Le(e,0,10,n),stringify:Ne},Me={identify:e=>Ie(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,n)=>Le(e,2,16,n),stringify:e=>Ae(e,16,"0x")},Fe=[be,xe,Ee,Ce,Oe,Be,je,Me,ke,$e,Te];function qe(e){return"bigint"==typeof e||Number.isInteger(e)}const De=({value:e})=>JSON.stringify(e),Pe=[be,xe].concat([{identify:e=>"string"==typeof e,default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:De},{identify:e=>null==e,createNode:()=>new D(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:De},{identify:e=>"boolean"==typeof e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>"true"===e,stringify:De},{identify:qe,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:n})=>n?BigInt(e):parseInt(e,10),stringify:({value:e})=>qe(e)?e.toString():JSON.stringify(e)},{identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:De}],{default:!0,tag:"",test:/^/,resolve:(e,t)=>(t(`Unresolved plain scalar ${JSON.stringify(e)}`),e)}),Ke={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if("function"==typeof atob){const t=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(t.length);for(let e=0;e<t.length;++e)n[e]=t.charCodeAt(e);return n}return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:n},o,r,i){if(!n)return"";const s=n;let l;if("function"!=typeof btoa)throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");{let e="";for(let t=0;t<s.length;++t)e+=String.fromCharCode(s[t]);l=btoa(e)}if(t||(t=D.BLOCK_LITERAL),t!==D.QUOTE_DOUBLE){const e=Math.max(o.options.lineWidth-o.indent.length,o.options.minContentWidth),n=Math.ceil(l.length/e),r=new Array(n);for(let t=0,o=0;t<n;++t,o+=e)r[t]=l.substr(o,e);l=r.join(t===D.BLOCK_LITERAL?"\n":" ")}return ie({comment:e,type:t,value:l},o,r,i)}};function Je(e,t){if(g(e))for(let n=0;n<e.items.length;++n){let o=e.items[n];if(!m(o)){if(f(o)){o.items.length>1&&t("Each pair must have its own sequence indicator");const e=o.items[0]||new me(new D(null));if(o.commentBefore&&(e.key.commentBefore=e.key.commentBefore?`${o.commentBefore}\n${e.key.commentBefore}`:o.commentBefore),o.comment){const t=e.value??e.key;t.comment=t.comment?`${o.comment}\n${t.comment}`:o.comment}o=e}e.items[n]=m(o)?o:new me(o)}}else t("Expected a sequence for this tag");return e}function Re(e,t,n){const{replacer:o}=n,r=new we(e);r.tag="tag:yaml.org,2002:pairs";let i=0;if(t&&Symbol.iterator in Object(t))for(let e of t){let s,l;if("function"==typeof o&&(e=o.call(t,String(i++),e)),Array.isArray(e)){if(2!==e.length)throw new TypeError(`Expected [key, value] tuple: ${e}`);s=e[0],l=e[1]}else if(e&&e instanceof Object){const t=Object.keys(e);if(1!==t.length)throw new TypeError(`Expected tuple with one key, not ${t.length} keys`);s=t[0],l=e[s]}else s=e;r.items.push(fe(s,l,n))}return r}const Ue={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:Je,createNode:Re};class Ve extends we{constructor(){super(),this.add=_e.prototype.add.bind(this),this.delete=_e.prototype.delete.bind(this),this.get=_e.prototype.get.bind(this),this.has=_e.prototype.has.bind(this),this.set=_e.prototype.set.bind(this),this.tag=Ve.tag}toJSON(e,t){if(!t)return super.toJSON(e);const n=new Map;t?.onCreate&&t.onCreate(n);for(const e of this.items){let o,r;if(m(e)?(o=B(e.key,"",t),r=B(e.value,o,t)):o=B(e,"",t),n.has(o))throw new Error("Ordered maps must not include duplicate keys");n.set(o,r)}return n}static from(e,t,n){const o=Re(e,t,n),r=new this;return r.items=o.items,r}}Ve.tag="tag:yaml.org,2002:omap";const We={collection:"seq",identify:e=>e instanceof Map,nodeClass:Ve,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){const n=Je(e,t),o=[];for(const{key:e}of n.items)p(e)&&(o.includes(e.value)?t(`Ordered maps must not include duplicate keys: ${e.value}`):o.push(e.value));return Object.assign(new Ve,n)},createNode:(e,t,n)=>Ve.from(e,t,n)};function Qe({value:e,source:t},n){return t&&(e?Ye:ze).test.test(t)?t:e?n.options.trueStr:n.options.falseStr}const Ye={identify:e=>!0===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new D(!0),stringify:Qe},ze={identify:e=>!1===e,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new D(!1),stringify:Qe},He={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>"nan"===e.slice(-3).toLowerCase()?NaN:"-"===e[0]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ne},Ge={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){const t=Number(e.value);return isFinite(t)?t.toExponential():Ne(e)}},Xe={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){const t=new D(parseFloat(e.replace(/_/g,""))),n=e.indexOf(".");if(-1!==n){const o=e.substring(n+1).replace(/_/g,"");"0"===o[o.length-1]&&(t.minFractionDigits=o.length)}return t},stringify:Ne},Ze=e=>"bigint"==typeof e||Number.isInteger(e);function et(e,t,n,{intAsBigInt:o}){const r=e[0];if("-"!==r&&"+"!==r||(t+=1),e=e.substring(t).replace(/_/g,""),o){switch(n){case 2:e=`0b${e}`;break;case 8:e=`0o${e}`;break;case 16:e=`0x${e}`}const t=BigInt(e);return"-"===r?BigInt(-1)*t:t}const i=parseInt(e,n);return"-"===r?-1*i:i}function tt(e,t,n){const{value:o}=e;if(Ze(o)){const e=o.toString(t);return o<0?"-"+n+e.substr(1):n+e}return Ne(e)}const nt={identify:Ze,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,n)=>et(e,2,2,n),stringify:e=>tt(e,2,"0b")},ot={identify:Ze,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,n)=>et(e,1,8,n),stringify:e=>tt(e,8,"0")},rt={identify:Ze,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,n)=>et(e,0,10,n),stringify:Ne},it={identify:Ze,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,n)=>et(e,2,16,n),stringify:e=>tt(e,16,"0x")};class st extends _e{constructor(e){super(e),this.tag=st.tag}add(e){let t;t=m(e)?e:e&&"object"==typeof e&&"key"in e&&"value"in e&&null===e.value?new me(e.key,null):new me(e,null);ve(this.items,t.key)||this.items.push(t)}get(e,t){const n=ve(this.items,e);return!t&&m(n)?p(n.key)?n.key.value:n.key:n}set(e,t){if("boolean"!=typeof t)throw new Error("Expected boolean value for set(key, value) in a YAML set, not "+typeof t);const n=ve(this.items,e);n&&!t?this.items.splice(this.items.indexOf(n),1):!n&&t&&this.items.push(new me(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,n){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,n);throw new Error("Set items must all have null values")}static from(e,t,n){const{replacer:o}=n,r=new this(e);if(t&&Symbol.iterator in Object(t))for(let e of t)"function"==typeof o&&(e=o.call(t,e,e)),r.items.push(fe(e,null,n));return r}}st.tag="tag:yaml.org,2002:set";const lt={collection:"map",identify:e=>e instanceof Set,nodeClass:st,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,n)=>st.from(e,t,n),resolve(e,t){if(f(e)){if(e.hasAllNullValues(!0))return Object.assign(new st,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};function at(e,t){const n=e[0],o="-"===n||"+"===n?e.substring(1):e,r=e=>t?BigInt(e):Number(e),i=o.replace(/_/g,"").split(":").reduce(((e,t)=>e*r(60)+r(t)),r(0));return"-"===n?r(-1)*i:i}function ct(e){let{value:t}=e,n=e=>e;if("bigint"==typeof t)n=e=>BigInt(e);else if(isNaN(t)||!isFinite(t))return Ne(e);let o="";t<0&&(o="-",t*=n(-1));const r=n(60),i=[t%r];return t<60?i.unshift(0):(t=(t-i[0])/r,i.unshift(t%r),t>=60&&(t=(t-i[0])/r,i.unshift(t))),o+i.map((e=>String(e).padStart(2,"0"))).join(":").replace(/000000\d*$/,"")}const dt={identify:e=>"bigint"==typeof e||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:n})=>at(e,n),stringify:ct},ut={identify:e=>"number"==typeof e,default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>at(e,!1),stringify:ct},ft={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){const t=e.match(ft.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,o,r,i,s,l]=t.map(Number),a=t[7]?Number((t[7]+"00").substr(1,3)):0;let c=Date.UTC(n,o-1,r,i||0,s||0,l||0,a);const d=t[8];if(d&&"Z"!==d){let e=at(d,!1);Math.abs(e)<30&&(e*=60),c-=6e4*e}return new Date(c)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""},mt=[be,xe,Ee,Ce,Ye,ze,nt,ot,rt,it,He,Ge,Xe,Ke,ae,We,Ue,lt,dt,ut,ft];new Map([["core",Fe],["failsafe",[be,xe,Ee]],["json",Pe],["yaml11",mt],["yaml-1.1",mt]]);Error;const pt=Symbol("break visit"),gt=Symbol("skip children"),ht=Symbol("remove item");function yt(e,t){"type"in e&&"document"===e.type&&(e={start:e.start,value:e.value}),vt(Object.freeze([]),e,t)}function vt(e,t,n){let o=n(t,e);if("symbol"==typeof o)return o;for(const r of["key","value"]){const i=t[r];if(i&&"items"in i){for(let t=0;t<i.items.length;++t){const o=vt(Object.freeze(e.concat([[r,t]])),i.items[t],n);if("number"==typeof o)t=o-1;else{if(o===pt)return pt;o===ht&&(i.items.splice(t,1),t-=1)}}"function"==typeof o&&"key"===r&&(o=o(t,e))}}return"function"==typeof o?o(t,e):o}yt.BREAK=pt,yt.SKIP=gt,yt.REMOVE=ht,yt.itemAtPath=(e,t)=>{let n=e;for(const[e,o]of t){const t=n?.[e];if(!t||!("items"in t))return;n=t.items[o]}return n},yt.parentCollection=(e,t)=>{const n=yt.itemAtPath(e,t.slice(0,-1)),o=t[t.length-1][0],r=n?.[o];if(r&&"items"in r)return r;throw new Error("Parent collection not found")};new Set("0123456789ABCDEFabcdef"),new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),new Set(",[]{}"),new Set(" ,[]{}\n\r\t");var _t=n(72),bt=n.n(_t),wt=n(825),St=n.n(wt),xt=n(659),Et=n.n(xt),Ct=n(56),Ot=n.n(Ct),Nt=n(540),kt=n.n(Nt),$t=n(113),Tt=n.n($t),It=n(208),Lt={};Lt.styleTagTransform=Tt(),Lt.setAttributes=Ot(),Lt.insert=Et().bind(null,"head"),Lt.domAPI=St(),Lt.insertStyleElement=kt();bt()(It.A,Lt);It.A&&It.A.locals&&It.A.locals;const At='<div class="slider_macros_card"> <div class="slider_macros_card_header"> <div class="slider_macros_card_title"> <span class="slider_macros_card_name" data-field="name">New Slider</span> <span class="slider_macros_card_macro" data-field="property"></span> </div> <div class="slider_macros_card_controls"> <label class="checkbox_label slider_macros_toggle"> <input type="checkbox" name="enabled"> <span class="slider_macros_toggle_label">Active</span> </label> </div> </div> <div class="slider_macros_card_body"> <div class="slider_macros_field_group"> <div class="slider_macros_field"> <label class="slider_macros_label">Name</label> <input class="text_pole" type="text" name="name" placeholder="e.g. Temperature"> </div> <div class="slider_macros_field"> <label class="slider_macros_label">Macro Variable</label> <div class="slider_macros_macro_input"> <span class="slider_macros_macro_prefix">{{</span> <input class="text_pole" type="text" name="property" placeholder="myVar"> <span class="slider_macros_macro_suffix">}}</span> </div> </div> </div> <div class="slider_macros_field"> <label class="slider_macros_label">Type</label> <select class="text_pole" name="type"> <option value="Numeric" selected="selected">Numeric</option> <option value="Boolean">Boolean</option> <option value="MultiSelect">MultiSelect</option> </select> </div> <div class="numeric-only slider_macros_type_section"> <div class="slider_macros_field_row"> <div class="slider_macros_field slider_macros_field_compact"> <label class="slider_macros_label">Min</label> <input class="text_pole" type="text" name="min" placeholder="0"> </div> <div class="slider_macros_field slider_macros_field_compact"> <label class="slider_macros_label">Max</label> <input class="text_pole" type="text" name="max" placeholder="1"> </div> <div class="slider_macros_field slider_macros_field_compact"> <label class="slider_macros_label">Step</label> <input class="text_pole" type="text" name="step" placeholder="0.01"> </div> </div> </div> <div class="boolean-only slider_macros_type_section"> <div class="slider_macros_field"> <label class="slider_macros_label">Default Value</label> <select class="text_pole" name="defaultBoolean"> <option value="true">True</option> <option value="false">False</option> </select> </div> </div> <div class="multiselect-only slider_macros_type_section"> <div class="slider_macros_field_row"> <div class="slider_macros_field slider_macros_field_half"> <label class="slider_macros_label">Option 1</label> <input class="text_pole" type="text" name="option1" placeholder="e.g. Low"> </div> <div class="slider_macros_field slider_macros_field_half"> <label class="slider_macros_label">Option 2</label> <input class="text_pole" type="text" name="option2" placeholder="e.g. High"> </div> </div> <div class="slider_macros_field_row"> <div class="slider_macros_field slider_macros_field_half"> <label class="slider_macros_label">Option 3 <span class="slider_macros_optional">(optional)</span></label> <input class="text_pole" type="text" name="option3" placeholder=""> </div> <div class="slider_macros_field slider_macros_field_half"> <label class="slider_macros_label">Option 4 <span class="slider_macros_optional">(optional)</span></label> <input class="text_pole" type="text" name="option4" placeholder=""> </div> </div> </div> </div> <div class="slider_macros_card_footer"> <div class="slider_macros_card_actions_left"> <button class="menu_button menu_button_icon slider_macros_btn_subtle" name="up" type="button" title="Move Up"> <i class="fa-solid fa-chevron-up"></i> </button> <button class="menu_button menu_button_icon slider_macros_btn_subtle" name="down" type="button" title="Move Down"> <i class="fa-solid fa-chevron-down"></i> </button> </div> <div class="slider_macros_card_actions_right"> <button class="menu_button menu_button_icon slider_macros_btn_danger" name="delete" type="button" title="Delete Slider"> <i class="fa-solid fa-trash-alt"></i> <span>Delete</span> </button> </div> </div> </div> ';const Bt='<div class="range-block" data-source="openai,claude,aimlapi,openrouter,ai21,makersuite,vertexai,mistralai,custom,cohere,perplexity,groq,siliconflow,electronhub,chutes,nanogpt,deepseek,xai,pollinations,moonshot,fireworks,cometapi,azure_openai,zai"> <div class="range-block-title"></div> <div class="range-block-range-and-counter"> <div class="range-block-range"> <input type="range"> </div> <div class="range-block-counter"> <input type="number"> </div> </div> </div>';var jt=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function l(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,l)}a((o=o.apply(e,t||[])).next())}))};const{saveSettingsDebounced:Mt,event_types:Ft,eventSource:qt,chatCompletionSettings:Dt,Popup:Pt,powerUserSettings:Kt,macros:Jt,MacrosParser:Rt}=SillyTavern.getContext(),Ut="sliderMacros";function Vt(e,t){let n=null;return(...o)=>{n&&clearTimeout(n),n=setTimeout((()=>{e(...o),n=null}),t)}}const Wt=Vt((()=>Mt()),300),Qt=e=>Vt((()=>on(e)),300),Yt=Object.freeze({collections:[{active:!0,name:"Default",sliders:[],presets:[]}]});function zt(){const e=SillyTavern.getContext().extensionSettings;e[Ut]||(e[Ut]=structuredClone(Yt));for(const t in Yt)void 0===e[Ut][t]&&(e[Ut][t]=Yt[t]);const t=e[Ut];return 0===t.collections.length&&t.collections.push(Yt.collections[0]),t.collections.some((e=>e.active))||(t.collections[0].active=!0),t}function Ht(){return{create:document.getElementById("slider_macros_create"),list:document.getElementById("slider_macros_list"),rangeBlock:document.getElementById("range_block_openai"),collections:document.getElementById("slider_macros_collections"),createCollection:document.getElementById("slider_macros_create_collection"),deleteCollection:document.getElementById("slider_macros_delete_collection"),bindToPreset:document.getElementById("slider_macros_bind_to_preset"),hint:document.getElementById("slider_macros_hint"),importFile:document.getElementById("slider_macros_import_file"),importCollection:document.getElementById("slider_macros_import_collection"),exportCollection:document.getElementById("slider_macros_export_collection")}}function Gt(e){var t;const n=null!==(t=document.getElementById("slider_macros_container"))&&void 0!==t?t:document.getElementById("extensions_settings");if(!n)return;const o=document.createElement("template");o.innerHTML='<div id="slider_macros_settings"> <div class="inline-drawer"> <div class="inline-drawer-toggle inline-drawer-header"> <b> <i class="fa-solid fa-sliders"></i> <span>Slider Macros</span> </b> <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div> </div> <div class="inline-drawer-content"> <div class="slider_macros_toolbar"> <input type="file" id="slider_macros_import_file" hidden accept=".json"> <div class="slider_macros_toolbar_row"> <select class="text_pole" id="slider_macros_collections"></select> <div class="slider_macros_toolbar_actions"> <div id="slider_macros_create_collection" class="menu_button menu_button_icon" title="Create New Collection"> <i class="fa-solid fa-folder-plus"></i> </div> <div id="slider_macros_bind_to_preset" class="menu_button menu_button_icon" title="Bind to Current Preset"> <i class="fa-solid fa-link"></i> </div> <div class="slider_macros_toolbar_divider"></div> <div id="slider_macros_import_collection" class="menu_button menu_button_icon" title="Import Collection"> <i class="fa-solid fa-file-import"></i> </div> <div id="slider_macros_export_collection" class="menu_button menu_button_icon" title="Export Collection"> <i class="fa-solid fa-file-export"></i> </div> <div class="slider_macros_toolbar_divider"></div> <div id="slider_macros_delete_collection" class="menu_button menu_button_icon slider_macros_btn_danger" title="Delete Collection"> <i class="fa-solid fa-trash-alt"></i> </div> </div> </div> </div> <div class="slider_macros_create_row"> <div id="slider_macros_create" class="menu_button menu_button_icon slider_macros_btn_create"> <i class="fa-solid fa-plus"></i> <span>Create Slider</span> </div> </div> <div id="slider_macros_list" class="slider_macros_list"></div> </div> </div> </div> ',n.appendChild(o.content);const r=Ht();r.create.addEventListener("click",tn),r.createCollection.addEventListener("click",Zt),r.deleteCollection.addEventListener("click",Xt),r.bindToPreset.addEventListener("click",en),r.collections.addEventListener("change",(t=>{const n=r.collections.value;e.collections.forEach((e=>{e.active=e.name===n})),Mt(),nn(e)})),r.importCollection.addEventListener("click",(()=>jt(this,void 0,void 0,(function*(){r.importFile.click()})))),r.exportCollection.addEventListener("click",(()=>jt(this,void 0,void 0,(function*(){const t=e.collections.find((e=>e.active));if(!t)return;const n=t.name+".json",o=JSON.stringify(t.sliders,null,4),r=new Blob([o],{type:"application/json"}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=n,s.click(),URL.revokeObjectURL(i)})))),r.importFile.addEventListener("change",(t=>{var n;const o=null===(n=r.importFile.files)||void 0===n?void 0:n[0];if(!o)return;const i=new FileReader;i.onload=t=>{var n;try{const r=o.name.split(".").shift()||"imported",i=null===(n=t.target)||void 0===n?void 0:n.result,s=JSON.parse(i);if(!Array.isArray(s))return void toastr.error("Invalid JSON file format.");!function(e,t,n){jt(this,void 0,void 0,(function*(){const o=yield Pt.show.input("Import Collection","Enter the name of the new collection:",e);if(!o)return;if(n.collections.find((e=>e.name===o)))return void toastr.warning("Collection with this name already exists.");const r={active:!0,name:o,sliders:t,presets:[]};n.collections.forEach((e=>{e.active=!1})),n.collections.push(r),Mt(),nn(n),toastr.success(`Imported ${t.length} sliders into collection "${o}".`)}))}(r,s,e)}catch(e){return void toastr.error("Failed to parse JSON file.")}},i.readAsText(o),r.importFile.value=""}))}function Xt(){return jt(this,void 0,void 0,(function*(){const e=zt();if(1===e.collections.length)return void toastr.warning("Cannot delete the last collection.");const t=e.collections.find((e=>e.active));if(!t)return;if(!(yield Pt.show.confirm("Delete Collection",`Are you sure you want to delete the collection "${t.name}"?`)))return;const n=e.collections.indexOf(t);e.collections.splice(n,1);const o=e.collections[0];o&&(o.active=!0),Mt(),nn(e)}))}function Zt(){return jt(this,void 0,void 0,(function*(){const e=zt(),t=yield Pt.show.input("New Collection Name","Enter the name of the new collection:");if(!t)return;e.collections.find((e=>e.name===t))?toastr.warning("Collection with this name already exists."):(e.collections.forEach((e=>{e.active=!1})),e.collections.push({active:!0,name:t,sliders:[],presets:[]}),Mt(),nn(e))}))}function en(){const e=zt(),t=Dt.preset_settings_openai;if(!t)return void toastr.warning("No Chat Completion preset selected.");const n=e.collections.find((e=>e.active));if(!n)return;const o=e.collections.find((e=>e.presets.includes(t)));o?(o.presets.splice(o.presets.indexOf(t),1),o!==n&&(toastr.warning(`The preset will be unbound from another collection "${o.name}".`),n.presets.push(t))):(n.presets.push(t),toastr.info(`Selecting the preset "${t}" will now automatically pick the sliders collection "${n.name}".`)),Mt(),nn(e)}function tn(){const e=zt(),t=e.collections.find((e=>e.active));t&&(t.sliders.unshift({name:"New Slider",property:"",type:"Numeric",min:"0",max:"1",step:"0.01",value:0,enabled:!0,options:[]}),nn(e))}function nn(e){const t=Ht(),n=Qt(e);t.list.innerHTML="";const o=e.collections.find((e=>e.active));if(!o)return;t.collections.innerHTML="",e.collections.forEach((e=>{const n=document.createElement("option");n.value=e.name,n.textContent=e.name,n.selected=e.active,t.collections.appendChild(n)}));const r=Dt.preset_settings_openai;if(t.bindToPreset.classList.toggle("toggleEnabled",o.presets.includes(r)),o.sliders.forEach(((o,r)=>{const i=document.createElement("template");i.innerHTML=At;const s=i.content.querySelector(".slider_macros_card"),l=i.content.querySelector(".slider_macros_card_name"),a=i.content.querySelector(".slider_macros_card_macro"),c=i.content.querySelector('input[name="name"]'),d=i.content.querySelector('input[name="property"]'),u=i.content.querySelector('input[name="min"]'),f=i.content.querySelector('input[name="max"]'),m=i.content.querySelector('input[name="step"]'),p=i.content.querySelector('input[name="enabled"]'),g=i.content.querySelector('select[name="type"]'),h=i.content.querySelector('button[name="delete"]'),y=i.content.querySelector('button[name="up"]'),v=i.content.querySelector('button[name="down"]'),_=i.content.querySelector(".numeric-only"),b=i.content.querySelector(".boolean-only"),w=i.content.querySelector(".multiselect-only");c.value=o.name,d.value=o.property,u.value=o.min,f.value=o.max,m.value=o.step,p.checked=o.enabled,g.value=o.type||"Numeric",l.textContent=o.name||"New Slider",a.textContent=o.property||"",o.enabled||(s.style.opacity="0.6");const S=[i.content.querySelector('input[name="option1"]'),i.content.querySelector('input[name="option2"]'),i.content.querySelector('input[name="option3"]'),i.content.querySelector('input[name="option4"]')];o.options||(o.options=["","","",""]),S.forEach(((e,t)=>{e&&(e.value=o.options[t]||"",e.addEventListener("input",(()=>{o.options[t]=e.value,n(),Wt()})))}));const x=()=>{const e=g.value;_&&(_.style.display="Numeric"===e?"block":"none"),b&&(b.style.display="Boolean"===e?"block":"none"),w&&(w.style.display="MultiSelect"===e?"block":"none")};x(),g.addEventListener("change",(()=>{o.type=g.value,x(),Mt(),on(e)})),c.addEventListener("input",(e=>{o.name=c.value,l.textContent=o.name||"New Slider",n(),Wt()})),d.addEventListener("input",(e=>{o.property=d.value,a.textContent=o.property||"",n(),Wt()})),u.addEventListener("input",(e=>{o.min=u.value,n(),Wt()})),f.addEventListener("input",(e=>{o.max=f.value,n(),Wt()})),m.addEventListener("input",(e=>{o.step=m.value,n(),Wt()})),p.addEventListener("change",(t=>{o.enabled=p.checked,s.style.opacity=o.enabled?"1":"0.6",on(e),Mt()})),h.addEventListener("click",(()=>jt(this,void 0,void 0,(function*(){if(!(yield Pt.show.confirm("Delete Slider",`Are you sure you want to delete the slider "${o.name}"?`)))return;const t=e.collections.find((e=>e.active));t&&(t.sliders.splice(r,1),nn(e),Mt())})))),y.addEventListener("click",(()=>{if(r>0){const t=e.collections.find((e=>e.active));if(!t)return;const n=t.sliders[r-1];t.sliders[r-1]=t.sliders[r],t.sliders[r]=n,nn(e),Mt()}})),v.addEventListener("click",(()=>{const t=e.collections.find((e=>e.active));if(t&&r<t.sliders.length-1){const n=t.sliders[r+1];t.sliders[r+1]=t.sliders[r],t.sliders[r]=n,nn(e),Mt()}})),t.list.appendChild(i.content)})),0===o.sliders.length){const e=document.createElement("div");e.classList.add("empty-message"),e.textContent='No custom sliders. Click "Create" to add one.',t.list.appendChild(e)}on(e)}function on(e){var t;const n=Ht(),o="slider_macros_drawer",r="slider_macros_main_container",i="slider_macros_completion_collections";let s=document.getElementById(o),l=document.getElementById(r);if(!s){s=document.createElement("div"),s.id=o,s.className="inline-drawer m-t-1 wide100p";const a=document.createElement("div");a.className="inline-drawer-toggle inline-drawer-header";const c=document.createElement("b");c.textContent="Custom Sliders",a.appendChild(c);const d=document.createElement("div");d.className="inline-drawer-icon fa-solid fa-circle-chevron-down down",a.appendChild(d),s.appendChild(a);const u=document.createElement("div");u.id="slider_macros_drawer_content",u.className="inline-drawer-content";const f=document.createElement("div");f.className="flex-container m-b-1";const m=document.createElement("span");m.textContent="Collection:",m.className="flex0",m.style.marginRight="10px",f.appendChild(m);const p=document.createElement("select");if(p.id=i,p.className="text_pole flex1",p.addEventListener("change",(()=>{const t=p.value;e.collections.forEach((e=>{e.active=e.name===t})),Mt(),nn(e)})),f.appendChild(p),u.appendChild(f),l)u.appendChild(l),null===(t=l.parentNode)||void 0===t||t.insertBefore(s,l),s.appendChild(a),s.appendChild(u);else{l=document.createElement("div"),l.id=r,l.className="slider_macros_container",u.appendChild(l),s.appendChild(u);const e=Array.from(n.rangeBlock.querySelectorAll(".range-block")).pop();e?e.insertAdjacentElement("afterend",s):n.rangeBlock.appendChild(s)}}l=document.getElementById(r);const a=document.getElementById(i);a.innerHTML="",e.collections.forEach((e=>{const t=document.createElement("option");t.value=e.name,t.textContent=e.name,t.selected=e.active,a.appendChild(t)})),l.innerHTML="";const c=e.collections.find((e=>e.active));c&&(c.sliders.forEach((t=>{if(!t.enabled||!t.property||!t.name)return;const n=document.createElement("template");n.innerHTML=Bt;const o=CSS.escape("slider_macro_"+t.property),r=(n.content.querySelector(".range-block"),n.content.querySelector(".range-block-title"));if(document.getElementById(o))return toastr.warning("Duplicate slider property name: "+t.property),void console.warn("Duplicate slider detected:",o);if(r.textContent=t.name,console.log(`Rendering slider: ${t.name} (${t.type})`),"Numeric"!==t.type&&t.type){if("Boolean"===t.type){const r=n.content.querySelector(".range-block-range"),i=n.content.querySelector(".range-block-counter"),s=n.content.querySelector('input[type="range"]');r&&(r.style.display="",r.style.flex="1",r.style.width="100%");const l=document.createElement("span");l.style.marginLeft="10px",l.style.fontWeight="bold",i&&(i.style.display="",i.innerHTML="",i.appendChild(l)),s.id=o,s.min="0",s.max="1",s.step="1",s.value=(1-(t.value?1:0)).toString(),l.textContent=1==(t.value?1:0)?"True":"False";const a=()=>{const n=0===parseInt(s.value,10);t.value=n?1:0,l.textContent=n?"True":"False",Mt(),rn(e)};s.addEventListener("input",a),$(s).on("input",a)}else if("MultiSelect"===t.type){n.content.querySelector(".range-block-range");const i=n.content.querySelector(".range-block-counter"),s=n.content.querySelector('input[type="range"]'),l=n.content.querySelector('input[type="number"]'),a=(t.options||[]).filter((e=>""!==e.trim()));if(a.length<2)return void(r.textContent+=" (Config Error: < 2 Options)");const c=document.createElement("span");c.style.marginLeft="10px",c.style.fontWeight="bold",i&&l&&(i.innerHTML="",i.appendChild(c)),s.id=o,s.min="0",s.max=(a.length-1).toString(),s.step="1",(t.value<0||t.value>=a.length)&&(t.value=0);const d=e=>e.length>10?e.substring(0,10)+"...":e;s.value=t.value.toString(),c.textContent=d(a[t.value]),c.title=a[t.value];const u=()=>{const n=parseInt(s.value,10);t.value=n;const o=a[n]||"";c.textContent=d(o),c.title=o,Mt(),rn(e)};s.addEventListener("input",u),$(s).on("input",u)}}else{t.value<parseFloat(t.min)&&(t.value=parseFloat(t.min)),t.value>parseFloat(t.max)&&(t.value=parseFloat(t.max));const r=n.content.querySelector('input[type="range"]'),i=n.content.querySelector('input[type="number"]');r.id=o,r.min=t.min,r.max=t.max,r.step=t.step,r.value=t.value.toString(),i.id=o+"_number",i.min=t.min,i.max=t.max,i.step=t.step,i.value=t.value.toString(),i.dataset.for=o;const s=()=>{t.value=parseFloat(r.value),i.value=r.value,Mt(),rn(e)};r.addEventListener("input",s),$(r).on("input",s)}l.appendChild(n.content)})),rn(e))}function rn(e){const t=e.collections.find((e=>e.active));t&&t.sliders.forEach((e=>{if(!e.enabled||!e.property)return;let t;if("MultiSelect"===e.type){const n=(e.options||[]).filter((e=>""!==e.trim()));t=()=>n[e.value]||""}else t="Boolean"===e.type?()=>1===e.value?"true":"false":()=>e.value.toString();const n=`Slider Macro: ${e.name}`;Kt.experimental_macro_engine?Jt.register(e.property,{category:Jt.category.PROMPTS,description:n,handler:t}):Rt.registerMacro(e.property,t,n)}))}!function(){jt(this,void 0,void 0,(function*(){const e=zt();Gt(e),nn(e),function(e){qt.on(Ft.OAI_PRESET_CHANGED_AFTER,(()=>{const t=Dt.preset_settings_openai,n=e.collections.find((e=>e.active));if(!n)return;const o=e.collections.find((e=>e.presets.includes(t)));o&&o!==n&&(o.active=!0,n.active=!1,Mt(),nn(e),on(e))}))}(e),Mt()}))}()})();